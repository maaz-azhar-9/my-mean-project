
<div class="flex-col">
  <div class="flex justify-end">
    <button
    (click)="openSemanticSearchDialog()"
      class="group relative flex items-center justify-center p-3 transition-all duration-300 bg-gray-900 border border-gray-700 rounded-xl hover:border-cyan-500 hover:shadow-[0_0_15px_rgba(6,182,212,0.5)] active:scale-95">
  
      <div
        class="absolute inset-0 transition-opacity opacity-0 bg-gradient-to-tr from-cyan-500/10 to-purple-500/10 rounded-xl group-hover:opacity-100">
      </div>
  
      <div class="relative flex items-center justify-center">
        <svg xmlns="http://www.w3.org/2000/svg" class="w-6 h-6 text-gray-400 transition-colors group-hover:text-cyan-400"
          fill="none" viewBox="0 0 24 24" stroke="currentColor" stroke-width="2">
          <path stroke-linecap="round" stroke-linejoin="round" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z" />
        </svg>
  
        <svg xmlns="http://www.w3.org/2000/svg"
          class="absolute -top-1 -right-1 w-3 h-3 text-purple-400 transition-transform group-hover:scale-125 group-hover:rotate-12"
          fill="currentColor" viewBox="0 0 24 24">
          <path d="M12 2l2.4 7.6L22 12l-7.6 2.4L12 22l-2.4-7.6L2 12l7.6-2.4L12 2z" />
        </svg>
      </div>
  
      <span
        class="absolute px-2 py-1 text-xs text-white transition-opacity translate-y-12 bg-gray-800 rounded opacity-0 pointer-events-none group-hover:opacity-100 whitespace-nowrap">
        Semantic Search
      </span>
    </button>
  </div>
  <div class="flex justify-center">
  <input #searchInput class="h-10 w-60 rounded-md mb-5 border pl-2" type="text" [(ngModel)]="searchText" name="searchBox" placeholder="Search">
</div>
</div>
<mat-spinner *ngIf="isLoading"></mat-spinner>
<mat-accordion multi="true" *ngIf="posts.length && !isLoading">
    <mat-expansion-panel expanded="true" *ngFor="let post of posts">
      <mat-expansion-panel-header>
        <mat-panel-title> {{post?.title}} </mat-panel-title>
      </mat-expansion-panel-header>
      <div class="post-image flex justify-center bg-black">
        <img class="max-h-[70lvh] object-contain" [src]="post.imagePath" [alt]="post.title">
      </div>
      <div class="whitespace-pre-wrap mt-2">{{post?.content}}
        <div class="flex justify-end mt-5 md:hidden"><a mat-button color="primary" [routerLink]="['/post',post.id]"><i class="fa-solid fa-eye"></i> View</a></div>
      </div>
      <mat-action-row class="!flex !justify-between !items-center">
        <div><app-like [isUserAuthenticated]="isUserAuthenticated"[post]="post"></app-like></div>
        <div class="hidden md:block"><a mat-button color="primary" [routerLink]="['/post',post.id]"><i class="fa-solid fa-eye"></i> View</a></div>
        <div *ngIf="isUserAuthenticated && userId === post.creator">
        <a mat-button color="primary" [routerLink]="['/edit',post.id]"><i class="fa-solid fa-pen-to-square"></i></a>
        <button mat-button color="warn" (click)="onDelete(post.id)"><i class="fa-solid fa-trash"></i></button>
        </div>
      </mat-action-row>
    </mat-expansion-panel>
</mat-accordion>
<mat-paginator #paginator *ngIf="posts.length" [length]="totalPosts" [pageSize]="postsPerPage" [pageSizeOptions]="pageSizeOptions"
  (page)="onChangedPage($event)" aria-label="Select page">
</mat-paginator>

<p *ngIf="!posts.length && !searchText.length  && !isLoading" class="info-text mat-body-1">No posts added yet!</p>
<p *ngIf="!posts.length && searchText.length  && !isLoading" class="info-text mat-body-1">No Result!</p>